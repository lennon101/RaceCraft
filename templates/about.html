<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - RaceCraft</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='fav-icon-circle.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ app_version }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages.css') }}?v={{ app_version }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
    <!-- App Version for Frontend -->
    <script>
        window.APP_VERSION = '{{ app_version }}';
        window.CLIENT_STORAGE_VERSION = 'v1.7.0'; // Update when localStorage schema changes
    </script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <button id="menu-toggle" class="menu-toggle" aria-label="Toggle menu">
                    <span class="mdi mdi-menu"></span>
                </button>
                <img src="{{ url_for('static', filename='logo-bg-removed.png') }}" alt="RaceCraft Logo" class="header-logo">
                <div class="header-text">
                    <h2 class="subtitle">About RaceCraft</h2>
                </div>
            </div>
        </header>

        <!-- Side Navigation -->
        <nav id="side-nav" class="side-nav">
            <div class="side-nav-header">
                <h3>RaceCraft Menu</h3>
                <button id="nav-close" class="nav-close" aria-label="Close menu">
                    <span class="mdi mdi-close"></span>
                </button>
            </div>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link"><span class="mdi mdi-home"></span> Home</a></li>
                <li><a href="/about" class="nav-link active"><span class="mdi mdi-information"></span> About</a></li>
                <li><a href="/docs" class="nav-link"><span class="mdi mdi-book-open-variant"></span> Documentation</a></li>
            </ul>
            <div class="theme-switcher">
                <h4>Theme</h4>
                <div class="theme-options">
                    <div class="theme-option">
                        <input type="radio" id="theme-light" name="theme" value="light">
                        <label for="theme-light">
                            <span class="mdi mdi-white-balance-sunny"></span>
                            Light
                        </label>
                    </div>
                    <div class="theme-option">
                        <input type="radio" id="theme-dark" name="theme" value="dark">
                        <label for="theme-dark">
                            <span class="mdi mdi-moon-waning-crescent"></span>
                            Dark
                        </label>
                    </div>
                    <div class="theme-option">
                        <input type="radio" id="theme-auto" name="theme" value="auto">
                        <label for="theme-auto">
                            <span class="mdi mdi-theme-light-dark"></span>
                            Auto
                        </label>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Overlay for mobile menu -->
        <div id="nav-overlay" class="nav-overlay"></div>

        <!-- About Content -->
        <main class="page-content">
            <div class="content-wrapper">
                <h1>About RaceCraft</h1>
                
                <section class="about-section">
                    <h2><span class="mdi mdi-help-circle"></span> The Why</h2>
                    <p>
                        This project began as a personal solution to the challenges I faced when planning my own ultra-marathon: the logistic nightmare of calculating pacing, nutrition, and checkpoint timings for a complex race. At the time, I ended up with three seperate spreadsheets that were difficult to maintain and update as I refined my strategy. I wondered if there was a better way. I began dabbling with Python (a language I had the most familirity with) to see if I could create a tool that would automate the process and provide more accurate, data-driven insights. As I developed the core models and functionality, I realized that this tool could be valuable to other endurance athletes facing the same challenges. Thus, RaceCraft was born out of a desire to solve a real problem I experienced, and I wanted to share that solution with the running community. To that end, RaceCraft attempts to simplify and solve:
                    </p>
                    <ul>
                        <li><strong>Race-day Checkpoint ETA's</strong> — Accurately estimating arrival times at each checkpoint, helping your crew and support team plan effectively.</li>
                        <li><strong>Bagdrop Contents</strong> — Planning and organizing what to leave at each checkpoint for effective nutrition neeeds.</li>
                        <li><strong>Elevation and terrain pacing</strong> — Understanding how elevation and terrain affect your pace and energy expenditure.</li>
                        <li><strong>Fatigue management</strong> — Not accounting for how cumulative effort slows you down over ultra-distances</li>
                    </ul>
                    <p>
                        RaceCraft was built to solve these problems by providing a data-driven, model-based approach to race planning.
                    </p>
                </section>

                <section class="about-section">
                    <h2><span class="mdi mdi-lightbulb"></span> The What</h2>
                    <p>
                        RaceCraft is a <strong>race planning tool</strong> that helps endurance athletes:
                    </p>
                    <ul>
                        <li><strong>Upload GPX routes</strong> — Import race routes to automatically extract distance, elevation, and terrain data</li>
                        <li><strong>Calculate realistic pacing</strong> — Use advanced fatigue and terrain models to predict segment-by-segment pace</li>
                        <li><strong>Plan nutrition and hydration</strong> — Estimate fuel requirements, serving counts, and water needs for each checkpoint</li>
                        <li><strong>Estimate checkpoint timings</strong> — Know when you'll reach each aid station or drop bag location</li>
                        <li><strong>Export race plans</strong> — Generate CSV exports to share with crew or print for race day</li>
                        <li><strong>Save and load plans</strong> — Store plans in the cloud (with authentication) or locally for future races</li>
                        <li><strong>Load known races</strong> — Access a library of popular race routes without needing to upload GPX files</li>
                    </ul>
                    <p>
                        Whether you're running an ultra-marathon, mountain race, or multi-day event, RaceCraft provides a plan that helps you approach race day with confidence and clarity.
                    </p>
                </section>

                <section class="about-section">
                    <h2><span class="mdi mdi-cog"></span> The How</h2>
                    <p>
                        RaceCraft uses <strong>science-based models</strong> to generate realistic race plans:
                    </p>
                    
                    <h3>1. Fatigue Model</h3>
                    <p>
                        An <strong>effort-based, fitness-dependent fatigue model</strong> that accounts for cumulative effort (including vertical gain), delays fatigue onset based on fitness level, and applies non-linear compounding after a threshold is exceeded.
                    </p>
                    <ul>
                        <li><strong>Effort calculation</strong>: distance + (ascent/100) + (descent/200)</li>
                        <li><strong>Fatigue onset point</strong>: Varies by fitness level (25-75 km-effort)</li>
                        <li><strong>Progressive slowdown</strong>: Fatigue compounds as effort increases beyond threshold</li>
                    </ul>
                    <p><a href="/docs/models/Fatigue Model Documentation">→ Read the full Fatigue Model documentation</a></p>

                    <h3>2. Climbing Model</h3>
                    <p>
                        A <strong>vertical speed climbing model</strong> (600-1500 m/h based on ability) with gradient-aware efficiency curves optimized for 6-12% gradients.
                    </p>
                    <ul>
                        <li><strong>Ability-based vertical speed</strong>: Conservative (600 m/h) to Elite (1500 m/h)</li>
                        <li><strong>Gradient efficiency</strong>: Optimal range at 6-12%, scales from 95% to 100%</li>
                        <li><strong>Realistic pacing</strong>: Prevents unrealistic speeds on steep climbs</li>
                    </ul>
                    <p><a href="/docs/models/Climbing Model Documentation">→ Read the full Climbing Model documentation</a></p>

                    <h3>3. Terrain Difficulty</h3>
                    <p>
                        A <strong>7-level terrain system</strong> with skill-based adjustments that reduce terrain penalties for experienced trail runners.
                    </p>
                    <ul>
                        <li><strong>7 terrain types</strong>: Road, smooth trail, dirt road, rocky runnable, technical, very technical, scrambling</li>
                        <li><strong>Gradient scaling</strong>: Terrain difficulty amplified on steep terrain</li>
                        <li><strong>Skill adjustment</strong>: Novice to expert reduces terrain penalties by 0-100%</li>
                    </ul>
                    <p><a href="/docs/models/Terrain Difficulty Documentation">→ Read the full Terrain Difficulty documentation</a></p>

                    <h3>User Inputs</h3>
                    <p>
                        RaceCraft allows you to customize your race plan with:
                    </p>
                    <ul>
                        <li><strong>Fitness level</strong>: Untrained, recreational, trained, elite</li>
                        <li><strong>Climbing ability</strong>: Conservative, moderate, strong, very strong, elite</li>
                        <li><strong>Technical skill</strong>: Novice to expert (affects downhill and technical terrain)</li>
                        <li><strong>Flat terrain pace</strong>: Your comfortable pace on flat, easy terrain</li>
                        <li><strong>Nutrition preferences</strong>: Carbs per hour, serving size, hydration needs</li>
                        <li><strong>Checkpoint locations</strong>: Aid station or drop bag distances</li>
                    </ul>

                    <h3>Technology Stack</h3>
                    <ul>
                        <li><strong>Backend</strong>: Python 3 with Flask 3.0.0</li>
                        <li><strong>Frontend</strong>: Vanilla JavaScript, HTML5, CSS3</li>
                        <li><strong>Deployment</strong>: Docker containerization with Docker Hub publishing</li>
                        <li><strong>Storage</strong>: Supabase (cloud) or JSON files (local)</li>
                    </ul>
                </section>

                <div class="back-link">
                    <a href="/" class="btn-link"><span class="mdi mdi-arrow-left"></span> Back to Planner</a>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/theme.js') }}?v={{ app_version }}"></script>
    <script src="{{ url_for('static', filename='js/navigation.js') }}?v={{ app_version }}"></script>
</body>
</html>
